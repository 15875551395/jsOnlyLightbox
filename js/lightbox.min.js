function Lightbox(){this.opt={},this.box=!1,this.wrapper=!1;var l,m,p,q,a=!1,b=this,c=document.getElementsByTagName("body")[0],d='<div class="jslghtbx-contentwrapper" id="jslghtbx-contentwrapper" ></div>',e=!1,f=!1,g=!1,h=[],i=[],j=!1,k=!1,r=function(){return window.innerHeight||document.documentElement.offsetHeight},s=function(){return window.innerWidth||document.documentElement.offsetWidth},t=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},u=function(a,b){return a&&b?new RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className):void 0},v=function(a,b){return a&&b?(a.className=a.className.replace(new RegExp("(?:^|\\s)"+b+"(?!\\S)"),""),a):void 0},w=function(a,b){return a&&b?(u(a,b)||(a.className+=" "+b),a):void 0},x=function(a){return"undefined"!=typeof a?!0:!1},y=function(a,b){if(!a||void 0==typeof a)return!1;var c;return a.getAttribute?c=a.getAttribute(b):a.getAttributeNode&&(c=a.getAttributeNode(b).value),void 0!=typeof c&&""!=c?c:!1},z=function(a,b){if(!a||void 0==typeof a)return!1;var c;return a.getAttribute?c=a.getAttribute(b):a.getAttributeNode&&(c=a.getAttributeNode(b).value),"string"==typeof c?!0:!1},A=function(a){return document.getElementById(a)?!0:!1},B=function(a){t(a,"click",function(){f=y(this,"data-jslghtbx-group")||!1,g=this,b.open(this)})},C=function(a){for(var b=[],c=0;c<i.length;c++)y(i[c],"data-jslghtbx-group")===a&&b.push(i[c]);return b},D=function(a,b){for(var c=C(b),d=0;d<c.length;d++)if(y(a,"src")===y(c[d],"src")&&y(a,"data-jslghtbx")===y(c[d],"data-jslghtbx"))return d},E=function(){if(!j){j=document.createElement("span"),w(j,"jslghtbx-next");var a=document.createElement("img");a.setAttribute("src","img/jslghtbx-next.png"),j.appendChild(a),t(j,"click",function(a){a.stopPropagation(),b.next()}),b.box.appendChild(j)}if(w(j,"jslghtbx-active"),!k){k=document.createElement("span"),w(k,"jslghtbx-prev");var c=document.createElement("img");c.setAttribute("src","img/jslghtbx-prev.png"),k.appendChild(c),t(k,"click",function(a){a.stopPropagation(),b.next()}),b.box.appendChild(k)}w(k,"jslghtbx-active")};this.load=function(e){if(e&&(this.opt=e),document.attachEvent&&!document.addEventListener&&(a=!0),e&&e.boxId)this.box=document.getElementById(e.boxId);else if(!this.box&&!A("jslghtbx")){var f=document.createElement("div");f.setAttribute("id","jslghtbx"),f.setAttribute("class","jslghtbx"),this.box=f,c.appendChild(this.box)}if(this.box.innerHTML=d,a&&w(this.box,"ie8"),this.wrapper=document.getElementById("jslghtbx-contentwrapper"),(!e||e&&e.controls||e&&!x(e.controls))&&(b.opt.controls=!0),e&&e.nextId&&t(document.getElementById(e.nextId),"click",function(){b.next()}),e&&e.prevId&&t(document.getElementById(e.prevId),"click",function(){b.prev()}),e&&e.closeId&&t(document.getElementById(e.closeId),"click",function(){b.close()}),!e||e&&!e.hideCloseBtn){var g=document.createElement("span");g.setAttribute("id","jslghtbx-close"),g.setAttribute("class","jslghtbx-close"),g.innerHTML="X",this.box.appendChild(g),t(g,"click",function(){b.close()})}(!e||e&&e.closeOnClick||e&&!x(e.closeOnClick))&&t(this.box,"click",function(){b.close()}),!e||e&&e.responsive||!x(e.responsive)?(this.opt.responsive=!0,t(window,"resize",function(){b.resize()}),w(this.box,"jslghtbx-nooverflow")):v(this.box,"jslghtbx-nooverflow"),(!e||e&&e.carousel||e&&!x(e.carousel))&&(this.opt.carousel=!0);for(var h=document.getElementsByTagName("img"),j=0;j<h.length;j++)z(h[j],"data-jslghtbx")&&(i.push(h[j]),B(h[j]))},this.resize=function(){var a=b.wrapper.getElementsByTagName("img")[0];if(l=s(),m=r(),boxWidth=b.box.offsetWidth,boxHeight=b.box.offsetHeight,e||(e=a.offsetWidth/a.offsetHeight),Math.floor(boxWidth/e)>boxHeight?(p=.8*boxHeight*e,q=.8*boxHeight):(p=.8*boxWidth,q=.8*(boxWidth/e)),a.setAttribute("width",Math.floor(p)),a.setAttribute("height",Math.floor(q)),b.box.setAttribute("style","padding-top:"+(r()-q)/2+"px"),this.opt.responsive&&j&&k){var d="-"+j.offsetHeight/2+"px";j.style.top=top,k.style.top=top,j.style.marginTop=d,k.style.marginTop=d}},this.next=function(){if(f){var a=D(g,f)+1;if(h[a])g=h[a];else{if(!b.opt.carousel)return;g=h[0]}b.open(g)}},this.prev=function(){if(f){var a=D(g,f)-1;if(h[a])g=h[a];else{if(!b.opt.carousel)return;g=h[h.length-1]}b.open(g)}},this.open=function(d,g){if(!d)return!1;var i;i="string"==typeof d?d:y(d,"data-jslghtbx")?y(d,"data-jslghtbx"):y(d,"src"),g=g||f,g&&(h=C(g),this.opt.controls&&E()),e=!1;var j=document.createElement("img");j.setAttribute("src",i),this.opt&&x(this.opt.hideOverflow)&&!this.opt.hideOverflow||c.setAttribute("style","overflow: hidden"),this.box.setAttribute("style","padding-top: 0"),this.wrapper.innerHTML="",this.wrapper.appendChild(j),w(this.box,"jslghtbx-active"),a&&w(b.wrapper,"jslghtbx-active");var k=setInterval(function(){u(b.box,"jslghtbx-active")&&j.complete&&setTimeout(function(){b.resize(),setTimeout(function(){w(b.wrapper,"jslghtbx-active")},10),clearInterval(k)},40)},10)},this.close=function(){f=!1,g=!1,h=[],v(b.box,"jslghtbx-active"),v(b.wrapper,"jslghtbx-active"),v(j,"jslghtbx-active"),v(k,"jslghtbx-active"),b.box.setAttribute("style","padding-top: 0px;"),a&&b.box.setAttribute("style","display: none;"),this.opt&&x(this.opt.hideOverflow)&&!this.opt.hideOverflow||c.setAttribute("style","overflow: auto")}}