function Lightbox(){var a=function(a,b,c,d){c.bind(this,d),a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},b=function(a,b){return a&&b?new RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className):void 0},c=function(a,b){return a&&b?(a.className=a.className.replace(new RegExp("(?:^|\\s)"+b+"(?!\\S)"),""),a):void 0},d=function(a,c){return a&&c?(b(a,c)||(a.className+=" "+c),a):void 0},f=this,g='<span class="lightbox-close" id="lightbox-close">X</span><div class="lightbox-contentwrapper" id="lightbox-contentwrapper" ></div>';this.box,this.wrapper,this.load=function(e){if(e&&e.boxId)this.box=document.getElementById(e.boxId),this.box.innerHTML=g;else{var h=document.createElement("div");h.setAttribute("class","lightbox"),this.box=h,this.box.innerHTML=g,document.getElementsByTagName("body")[0].appendChild(this.box),this.wrapper=document.getElementById("lightbox-contentwrapper")}e&&e.closeId&&(console.log("set"),a(document.getElementById(e.closeId),"click",function(){f.closeLightbox(),console.log("closing")})),a(this.box,"click",function(){f.closeLightbox()}),this.closeLightbox=function(){c(f.box,"active"),c(f.wrapper,"active"),document.getElementsByTagName("body")[0].setAttribute("style","overflow = auto")},this.openLightbox=function(a){if(document.getElementsByTagName("body")[0].setAttribute("style","overflow = hidden"),this.box.setAttribute("style","padding-top: 0"),this.wrapper.innerHTML="","object"==typeof a)this.wrapper.appendChild(a.cloneNode(!0));else{if("string"!=typeof a)return!1;var c=document.createElement("img");c.setAttribute("src",a),this.wrapper.appendChild(c.cloneNode(!0))}d(this.box,"active"),this.box.setAttribute("style","padding-top: "+Math.floor((window.innerHeight-this.wrapper.offsetHeight)/2)+"px");var e=setInterval(function(){b(f.box,"active")&&(setTimeout(function(){f.box.setAttribute("style","padding-top: "+Math.floor((window.innerHeight-f.wrapper.offsetHeight)/2)+"px"),setTimeout(function(){d(f.wrapper,"active")},10)},10),clearInterval(e))},10)};for(var i=document.getElementsByTagName("img"),j=function(b){a(b,"click",function(){""!==this.getAttribute("data-lightbox")?(f.openLightbox(this.getAttribute("data-lightbox")),console.log(this.getAttribute("data-lightbox"))):f.openLightbox(this)})},k=0;k<i.length;k++)null!==i[k].getAttribute("data-lightbox")&&j(i[k])}}