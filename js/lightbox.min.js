"use strict";function Lightbox(){function w(){return window.innerHeight||document.documentElement.offsetHeight}function x(){return window.innerWidth||document.documentElement.offsetWidth}function y(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}function z(a,b){return a&&b?new RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className):void 0}function A(a,b){return a&&b?(a.className=a.className.replace(new RegExp("(?:^|\\s)"+b+"(?!\\S)"),""),a):void 0}function B(a,b){return a&&b?(z(a,b)||(a.className+=" "+b),a):void 0}function C(a){return"undefined"!=typeof a?!0:!1}function D(a,b){if(!a||void 0==typeof a)return!1;var c;return a.getAttribute?c=a.getAttribute(b):a.getAttributeNode&&(c=a.getAttributeNode(b).value),void 0!=typeof c&&""!=c?c:!1}function E(a,b){if(!a||void 0==typeof a)return!1;var c;return a.getAttribute?c=a.getAttribute(b):a.getAttributeNode&&(c=a.getAttributeNode(b).value),"string"==typeof c?!0:!1}function G(a){return document.getElementById(a)?!0:!1}function H(){if(h){var a=new Image,b=new Image,c=K(i,h);c===k.length-1?(a.src=k[k.length-1].src,b.src=k[0].src):0===c?(a.src=k[k.length-1].src,b.src=k[1].src):(a.src=k[c-1].src,b.src=k[c+1].src)}}function I(b){y(b,"click",function(){h=D(b,"data-jslghtbx-group")||!1,i=b,a.open(b)})}function J(a){for(var b=[],c=0;c<l.length;c++)D(l[c],"data-jslghtbx-group")===a&&b.push(l[c]);return b}function K(a,b){for(var c=J(b),d=0;d<c.length;d++)if(D(a,"src")===D(c[d],"src")&&D(a,"data-jslghtbx")===D(c[d],"data-jslghtbx"))return d}function L(a){a.stopPropagation?a.stopPropagation():a.returnValue=!1}function M(a,b){return!a||a&&a[b]}function N(a,b){return a&&a[b]&&"function"==typeof a[b]}function O(){if(!o){if(o=document.createElement("span"),B(o,"jslghtbx-next"),a.opt.nextImg){var b=document.createElement("img");b.setAttribute("src",a.opt.nextImg),o.appendChild(b)}else B(o,"jslghtbx-no-img");y(o,"click",function(b){L(b),a.next()}),a.box.appendChild(o)}if(B(o,"jslghtbx-active"),!p){if(p=document.createElement("span"),B(p,"jslghtbx-prev"),a.opt.prevImg){var c=document.createElement("img");c.setAttribute("src",a.opt.prevImg),p.appendChild(c)}else B(p,"jslghtbx-no-img");y(p,"click",function(b){L(b),a.prev()}),a.box.appendChild(p)}B(p,"jslghtbx-active")}function P(){if(a.opt.responsive&&o&&p){var c=w()/2-o.offsetHeight/2;if(b){var d="top: "+c+"px";o.cssText=d,p.cssText=d}else o.style.top=c+"px",p.style.top=c+"px"}}this.opt={},this.box=!1,this.wrapper=!1;var n,q,r,u,v,a=this,b=!1,c=!1,d=document.getElementsByTagName("body")[0],e='<div class="jslghtbx-contentwrapper" id="jslghtbx-contentwrapper" ></div>',g=!1,h=!1,i=!1,j={},k=[],l=[],m=!1,o=!1,p=!1;this.load=function(f){if(f&&(this.opt=f),navigator.appVersion.indexOf("MSIE 8")>0&&(b=!0),navigator.appVersion.indexOf("MSIE 9")>0&&(c=!0),f&&f.boxId)this.box=document.getElementById(f.boxId);else if(!this.box&&!G("jslghtbx")){var g=document.createElement("div");g.setAttribute("id","jslghtbx"),g.setAttribute("class","jslghtbx"),this.box=g,d.appendChild(this.box)}if(this.box.innerHTML=e,b&&B(a.box,"jslghtbx-ie8"),this.wrapper=document.getElementById("jslghtbx-contentwrapper"),(M(f,"controls")||f&&!C(f.controls))&&(a.opt.controls=!0),(M(f,"dimensions")||f&&!C(f.dimensions))&&(a.opt.dimensions=!0),(M(f,"captions")||f&&!C(f.captions))&&(a.opt.captions=!0),f&&f.nextImg&&(a.opt.nextImg=f.nextImg),f&&f.prevImg&&(a.opt.prevImg=f.prevImg),!f||f&&!f.hideCloseBtn){var h=document.createElement("span");h.setAttribute("id","jslghtbx-close"),h.setAttribute("class","jslghtbx-close"),h.innerHTML="X",this.box.appendChild(h),y(h,"click",function(b){L(b),a.close()})}if(!b&&(M(f,"closeOnClick")||f&&!C(f.closeOnClick))&&y(this.box,"click",function(){a.close()}),n=!f||f&&!C(f.loadingImgSrc)?"img/jslghtbx-loading.gif":f.loadingImgSrc,M(f,"loadingImg")||f&&!C(f.loadingImg)){this.opt.loadingImg=!0;var i=document.createElement("img");i.setAttribute("src",n),B(i,"jslghtbx-loading-img"),this.box.appendChild(i)}(M(f,"preload")||f&&!C(f.preload))&&(this.opt.preload=!0),N(f,"onopen")&&(this.opt.onopen=f.onopen),N(f,"onclose")&&(this.opt.onclose=f.onclose),N(f,"onresize")&&(this.opt.onresize=f.onresize),N(f,"onload")&&(this.opt.onload=f.onload),(M(f,"carousel")||f&&!C(f.carousel))&&(this.opt.carousel=!0),(!f||f&&!C(f.animation)||f&&C(f.animation)&&f.animation===!0)&&(a.opt.animation=400),M(f,"responsive")||!C(f.responsive)?(this.opt.responsive=!0,y(window,"resize",function(){a.resize()}),B(this.box,"jslghtbx-nooverflow")):A(this.box,"jslghtbx-nooverflow");for(var j=document.getElementsByTagName("img"),k=0;k<j.length;k++)E(j[k],"data-jslghtbx")&&(l.push(j[k]),I(j[k]))},this.resize=function(){if(j.img){q=x(),r=w();var b=a.box.offsetWidth,c=a.box.offsetHeight;!g&&j.img&&j.img.offsetWidth&&j.img.offsetHeight&&(g=j.img.offsetWidth/j.img.offsetHeight),Math.floor(b/g)>c?(u=.8*c*g,v=.8*c):(u=.8*b,v=.8*(b/g)),u=Math.floor(u),v=Math.floor(v),(this.opt.dimensions&&v>j.originalHeight||this.opt.dimensions&&u>j.originalWidth)&&(v=j.originalHeight,u=j.originalWidth),j.img.setAttribute("width",u),j.img.setAttribute("height",v),j.img.setAttribute("style","margin-top:"+(w()-v)/2+"px"),setTimeout(P,200),this.opt.onresize&&this.opt.onresize()}},this.next=function(){if(h){var b=K(i,h)+1;if(k[b])i=k[b];else{if(!a.opt.carousel)return;i=k[0]}"number"==typeof this.opt.animation?(A(j.img,"jslghtbx-animating-next"),setTimeout(function(){var b=function(){setTimeout(function(){B(j.img,"jslghtbx-animating-next")},a.opt.animation/2)};a.open(i,!1,b)},this.opt.animation/2)):a.open(i)}},this.prev=function(){if(h){var b=K(i,h)-1;if(k[b])i=k[b];else{if(!a.opt.carousel)return;i=k[k.length-1]}"number"==typeof this.opt.animation?(A(j.img,"jslghtbx-animating-prev"),setTimeout(function(){var b=function(){setTimeout(function(){B(j.img,"jslghtbx-animating-next")},a.opt.animation/2)};a.open(i,!1,b)},this.opt.animation/2)):a.open(i)}},this.open=function(e,f,i){if(!e)return!1;j.img=new Image;var l;l="string"==typeof e?e:D(e,"data-jslghtbx")?D(e,"data-jslghtbx"):D(e,"src"),g=!1,m||("number"==typeof a.opt.animation&&B(j.img,"jslghtbx-animate-transition jslghtbx-animate-init"),m=!0,this.opt.onopen&&this.opt.onopen()),this.opt&&C(this.opt.hideOverflow)&&!this.opt.hideOverflow||d.setAttribute("style","overflow: hidden"),this.box.setAttribute("style","padding-top: 0"),this.wrapper.innerHTML="",this.wrapper.appendChild(j.img),this.opt.animation&&B(this.wrapper,"jslghtbx-animate");var n=D(e,"data-jslghtbx-caption");if(n&&this.opt.captions){var o=document.createElement("p");o.setAttribute("class","jslghtbx-caption"),o.innerHTML=n,this.wrapper.appendChild(o)}B(this.box,"jslghtbx-active"),b&&B(a.wrapper,"jslghtbx-active"),f=f||h,f&&(k=J(f),a.opt.controls&&k.length>1&&(O(),P())),j.img.onload=function(){if(j.originalWidth=this.width,j.originalHeight=this.height,b||c){var d=new Image;d.setAttribute("src",l),j.originalWidth=d.width,j.originalHeight=d.height}var e=setInterval(function(){z(a.box,"jslghtbx-active")&&(B(a.wrapper,"jslghtbx-wrapper-active"),"number"==typeof a.opt.animation&&B(j.img,"jslghtbx-animate-transition"),i&&i(),A(a.box,"jslghtbx-loading"),a.opt.preload&&H(),a.opt.onload&&a.opt.onload(),clearInterval(e),a.resize())},10)},j.img.setAttribute("src",l),this.opt.loadingImg&&!b&&B(this.box,"jslghtbx-loading")},this.close=function(){h=!1,i=!1,j={},k=[],m=!1,A(a.box,"jslghtbx-active"),A(a.wrapper,"jslghtbx-wrapper-active"),A(o,"jslghtbx-active"),A(p,"jslghtbx-active"),a.box.setAttribute("style","padding-top: 0px"),b&&a.box.setAttribute("style","display: none"),this.opt&&C(this.opt.hideOverflow)&&!this.opt.hideOverflow||d.setAttribute("style","overflow: auto"),this.opt.onclose&&this.opt.onclose()}}