"use strict";function Lightbox(){function v(){return window.innerHeight||document.documentElement.offsetHeight}function w(){return window.innerWidth||document.documentElement.offsetWidth}function x(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}function y(a,b){return a&&b?new RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className):void 0}function z(a,b){return a&&b?(a.className=a.className.replace(new RegExp("(?:^|\\s)"+b+"(?!\\S)"),""),a):void 0}function A(a,b){return a&&b?(y(a,b)||(a.className+=" "+b),a):void 0}function B(a){return"undefined"!=typeof a?!0:!1}function C(a,b){if(!a||void 0==typeof a)return!1;var c;return a.getAttribute?c=a.getAttribute(b):a.getAttributeNode&&(c=a.getAttributeNode(b).value),void 0!=typeof c&&""!=c?c:!1}function D(a,b){if(!a||void 0==typeof a)return!1;var c;return a.getAttribute?c=a.getAttribute(b):a.getAttributeNode&&(c=a.getAttributeNode(b).value),"string"==typeof c?!0:!1}function F(a){return document.getElementById(a)?!0:!1}function G(){if(g){var a=new Image,b=new Image,c=J(h,g);c===j.length-1?(a.src=j[j.length-1].src,b.src=j[0].src):0===c?(a.src=j[j.length-1].src,b.src=j[1].src):(a.src=j[c-1].src,b.src=j[c+1].src)}}function H(b){x(b,"click",function(){g=C(b,"data-jslghtbx-group")||!1,h=b,a.open(b)})}function I(a){for(var b=[],c=0;c<k.length;c++)C(k[c],"data-jslghtbx-group")===a&&b.push(k[c]);return b}function J(a,b){for(var c=I(b),d=0;d<c.length;d++)if(C(a,"src")===C(c[d],"src")&&C(a,"data-jslghtbx")===C(c[d],"data-jslghtbx"))return d}function K(a){a.stopPropagation?a.stopPropagation():a.returnValue=!1}function L(a,b){return!a||a&&a[b]}function M(a,b){return a&&a[b]&&"function"==typeof a[b]}function N(){if(!n){n=document.createElement("span"),A(n,"jslghtbx-next");var b=document.createElement("img");b.setAttribute("src","img/jslghtbx-next.png"),n.appendChild(b),x(n,"click",function(b){K(b),a.next()}),a.box.appendChild(n)}if(A(n,"jslghtbx-active"),!o){o=document.createElement("span"),A(o,"jslghtbx-prev");var c=document.createElement("img");c.setAttribute("src","img/jslghtbx-prev.png"),o.appendChild(c),x(o,"click",function(b){K(b),a.prev()}),a.box.appendChild(o)}A(o,"jslghtbx-active")}function O(){if(a.opt.responsive&&n&&o){var c=v()/2-n.offsetHeight/2;if(b){var d="top: "+c+"px;";n.cssText=d,o.cssText=d}else n.style.top=c+"px",o.style.top=c+"px"}}this.opt={},this.box=!1,this.wrapper=!1;var m,p,q,t,u,a=this,b=!1,c=document.getElementsByTagName("body")[0],d='<div class="jslghtbx-contentwrapper" id="jslghtbx-contentwrapper" ></div>',f=!1,g=!1,h=!1,i={},j=[],k=[],l=!1,n=!1,o=!1;this.load=function(e){if(e&&(this.opt=e),document.attachEvent&&!document.addEventListener&&(b=!0),e&&e.boxId)this.box=document.getElementById(e.boxId);else if(!this.box&&!F("jslghtbx")){var f=document.createElement("div");f.setAttribute("id","jslghtbx"),f.setAttribute("class","jslghtbx"),this.box=f,c.appendChild(this.box)}if(this.box.innerHTML=d,b&&A(a.box,"jslghtbx-ie8"),this.wrapper=document.getElementById("jslghtbx-contentwrapper"),(L(e,"controls")||e&&!B(e.controls))&&(a.opt.controls=!0),(L(e,"dimensions")||e&&!B(e.dimensions))&&(a.opt.dimensions=!0),(L(e,"captions")||e&&!B(e.captions))&&(a.opt.captions=!0),e&&e.nextId&&x(document.getElementById(e.nextId),"click",function(){a.next()}),e&&e.prevId&&x(document.getElementById(e.prevId),"click",function(){a.prev()}),e&&e.closeId&&x(document.getElementById(e.closeId),"click",function(){a.close()}),!e||e&&!e.hideCloseBtn){var g=document.createElement("span");g.setAttribute("id","jslghtbx-close"),g.setAttribute("class","jslghtbx-close"),g.innerHTML="X",this.box.appendChild(g),x(g,"click",function(b){K(b),a.close()})}if(!b&&(L(e,"closeOnClick")||e&&!B(e.closeOnClick))&&x(this.box,"click",function(){a.close()}),m=!e||e&&!B(e.loadingImgSrc)?"img/jslghtbx-loading.gif":e.loadingImgSrc,L(e,"loadingImg")||e&&!B(e.loadingImg)){this.opt.loadingImg=!0;var h=document.createElement("img");h.setAttribute("src",m),A(h,"jslghtbx-loading-img"),this.box.appendChild(h)}(L(e,"preload")||e&&!B(e.preload))&&(this.opt.preload=!0),M(e,"onopen")&&(this.opt.onopen=e.onopen),M(e,"onclose")&&(this.opt.onclose=e.onclose),M(e,"onresize")&&(this.opt.onresize=e.onresize),M(e,"onload")&&(this.opt.onload=e.onload),(L(e,"carousel")||e&&!B(e.carousel))&&(this.opt.carousel=!0),(!e||e&&!B(e.animation)||e&&B(e.animation)&&e.animation===!0)&&(a.opt.animation=400),L(e,"responsive")||!B(e.responsive)?(this.opt.responsive=!0,x(window,"resize",function(){a.resize()}),A(this.box,"jslghtbx-nooverflow")):z(this.box,"jslghtbx-nooverflow");for(var i=document.getElementsByTagName("img"),j=0;j<i.length;j++)D(i[j],"data-jslghtbx")&&(k.push(i[j]),H(i[j]))},this.resize=function(){if(i.img){p=w(),q=v();var b=a.box.offsetWidth,c=a.box.offsetHeight;!f&&i.img&&i.img.offsetWidth&&i.img.offsetHeight&&(f=i.img.offsetWidth/i.img.offsetHeight),Math.floor(b/f)>c?(t=.8*c*f,u=.8*c):(t=.8*b,u=.8*(b/f)),t=Math.floor(t),u=Math.floor(u),(this.opt.dimensions&&u>i.originalHeight||this.opt.dimensions&&t>i.originalWidth)&&(u=i.originalHeight,t=i.originalWidth),i.img.setAttribute("width",t),i.img.setAttribute("height",u),i.img.setAttribute("style","margin-top:"+(v()-u)/2+"px"),O(),this.opt.onresize&&this.opt.onresize()}},this.next=function(){if(g){var b=J(h,g)+1;if(j[b])h=j[b];else{if(!a.opt.carousel)return;h=j[0]}"number"==typeof this.opt.animation?(z(i.img,"jslghtbx-animating-next"),setTimeout(function(){a.open(h),setTimeout(function(){A(i.img,"jslghtbx-animating-next")},a.opt.animation/2)},this.opt.animation/2)):a.open(h)}},this.prev=function(){if(g){var b=J(h,g)-1;if(j[b])h=j[b];else{if(!a.opt.carousel)return;h=j[j.length-1]}"number"==typeof this.opt.animation?(z(i.img,"jslghtbx-animating-prev"),setTimeout(function(){a.open(h),setTimeout(function(){A(i.img,"jslghtbx-animating-prev")},a.opt.animation/2)},this.opt.animation/2)):a.open(h)}},this.open=function(d,e){if(!d)return!1;i.img=new Image;var h;h="string"==typeof d?d:C(d,"data-jslghtbx")?C(d,"data-jslghtbx"):C(d,"src"),f=!1,l||(A(i.img,"jslghtbx-animate-transition jslghtbx-animate-init"),l=!0,this.opt.onopen&&this.opt.onopen()),this.opt&&B(this.opt.hideOverflow)&&!this.opt.hideOverflow||c.setAttribute("style","overflow: hidden"),this.box.setAttribute("style","padding-top: 0"),this.wrapper.innerHTML="",this.wrapper.appendChild(i.img);var k=C(d,"data-jslghtbx-caption");if(k&&this.opt.captions){var m=document.createElement("p");m.setAttribute("class","jslghtbx-caption"),m.innerHTML=k,this.wrapper.appendChild(m)}A(this.box,"jslghtbx-active"),b&&A(a.wrapper,"jslghtbx-active"),e=e||g,e&&(j=I(e),a.opt.controls&&(N(),O())),i.img.onload=function(){var b=new Image;b.setAttribute("src",h),i.originalWidth=b.width,i.originalHeight=b.height,A(a.wrapper,"jslghtbx-wrapper-active");var c=setInterval(function(){y(a.box,"jslghtbx-active")&&y(a.wrapper,"jslghtbx-wrapper-active")&&(a.resize(),A(i.img,"jslghtbx-animate-transition"),z(a.box,"jslghtbx-loading"),a.opt.preload&&G(),a.opt.onload&&a.opt.onload(),clearInterval(c))},10)},i.img.setAttribute("src",h),this.opt.loadingImg&&!b&&A(this.box,"jslghtbx-loading")},this.close=function(){g=!1,h=!1,i={},j=[],l=!1,z(a.box,"jslghtbx-active"),z(a.wrapper,"jslghtbx-wrapper-active"),z(n,"jslghtbx-active"),z(o,"jslghtbx-active"),a.box.setAttribute("style","padding-top: 0px;"),b&&a.box.setAttribute("style","display: none;"),this.opt&&B(this.opt.hideOverflow)&&!this.opt.hideOverflow||c.setAttribute("style","overflow: auto"),this.opt.onclose&&this.opt.onclose()}}