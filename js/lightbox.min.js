function Lightbox(){this.opt={},this.box=!1,this.wrapper=!1;var n,o,r,s,a=!1,b=this,c=document.getElementsByTagName("body")[0],d='<div class="jslghtbx-contentwrapper" id="jslghtbx-contentwrapper" ></div>',e=!1,f=!1,g=!1,h={},i=[],j=[],k=!1,l=!1,m=!1,t=function(){return window.innerHeight||document.documentElement.offsetHeight},u=function(){return window.innerWidth||document.documentElement.offsetWidth},v=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},w=function(a,b){return a&&b?new RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className):void 0},x=function(a,b){return a&&b?(a.className=a.className.replace(new RegExp("(?:^|\\s)"+b+"(?!\\S)"),""),a):void 0},y=function(a,b){return a&&b?(w(a,b)||(a.className+=" "+b),a):void 0},z=function(a){return"undefined"!=typeof a?!0:!1},A=function(a,b){if(!a||void 0==typeof a)return!1;var c;return a.getAttribute?c=a.getAttribute(b):a.getAttributeNode&&(c=a.getAttributeNode(b).value),void 0!=typeof c&&""!=c?c:!1},B=function(a,b){if(!a||void 0==typeof a)return!1;var c;return a.getAttribute?c=a.getAttribute(b):a.getAttributeNode&&(c=a.getAttributeNode(b).value),"string"==typeof c?!0:!1},C=function(a){return document.getElementById(a)?!0:!1},D=function(a){v(a,"click",function(){f=A(a,"data-jslghtbx-group")||!1,g=a,b.open(a)})},E=function(a){for(var b=[],c=0;c<j.length;c++)A(j[c],"data-jslghtbx-group")===a&&b.push(j[c]);return b},F=function(a,b){for(var c=E(b),d=0;d<c.length;d++)if(A(a,"src")===A(c[d],"src")&&A(a,"data-jslghtbx")===A(c[d],"data-jslghtbx"))return d},G=function(){if(!l){l=document.createElement("span"),y(l,"jslghtbx-next");var a=document.createElement("img");a.setAttribute("src","img/jslghtbx-next.png"),l.appendChild(a),v(l,"click",function(a){a.stopPropagation?a.stopPropagation():a.returnValue=!1,b.next()}),b.box.appendChild(l)}if(y(l,"jslghtbx-active"),!m){m=document.createElement("span"),y(m,"jslghtbx-prev");var c=document.createElement("img");c.setAttribute("src","img/jslghtbx-prev.png"),m.appendChild(c),v(m,"click",function(a){a.stopPropagation?a.stopPropagation():a.returnValue=!1,b.prev()}),b.box.appendChild(m)}y(m,"jslghtbx-active")};this.load=function(e){if(e&&(this.opt=e),document.attachEvent&&!document.addEventListener&&(a=!0),e&&e.boxId)this.box=document.getElementById(e.boxId);else if(!this.box&&!C("jslghtbx")){var f=document.createElement("div");f.setAttribute("id","jslghtbx"),f.setAttribute("class","jslghtbx"),this.box=f,c.appendChild(this.box)}if(this.box.innerHTML=d,a&&y(b.box,"jslghtbx-ie8"),this.wrapper=document.getElementById("jslghtbx-contentwrapper"),(!e||e&&e.controls||e&&!z(e.controls))&&(b.opt.controls=!0),(!e||e&&e.dimensions||e&&!z(e.dimensions))&&(b.opt.dimensions=!0),e&&e.nextId&&v(document.getElementById(e.nextId),"click",function(){b.next()}),e&&e.prevId&&v(document.getElementById(e.prevId),"click",function(){b.prev()}),e&&e.closeId&&v(document.getElementById(e.closeId),"click",function(){b.close()}),!e||e&&!e.hideCloseBtn){var g=document.createElement("span");g.setAttribute("id","jslghtbx-close"),g.setAttribute("class","jslghtbx-close"),g.innerHTML="X",this.box.appendChild(g),v(g,"click",function(){b.close()})}!a&&(!e||e&&e.closeOnClick||e&&!z(e.closeOnClick))&&v(this.box,"click",function(){b.close()}),!e||e&&e.responsive||!z(e.responsive)?(this.opt.responsive=!0,v(window,"resize",function(){b.resize()}),y(this.box,"jslghtbx-nooverflow")):x(this.box,"jslghtbx-nooverflow"),(!e||e&&e.loadingGif||e&&!z(e.loadingGif))&&(this.opt.loadingGif=!0),(!e||e&&e.carousel||e&&!z(e.carousel))&&(this.opt.carousel=!0),(!e||e&&!z(e.animation)||e&&z(e.animation)&&e.animation===!0)&&(b.opt.animation=400);for(var h=document.getElementsByTagName("img"),i=0;i<h.length;i++)B(h[i],"data-jslghtbx")&&(j.push(h[i]),D(h[i]))},this.resize=function(){if(h.img&&(n=u(),o=t(),boxWidth=b.box.offsetWidth,boxHeight=b.box.offsetHeight,!e&&h.img&&h.img.offsetWidth&&h.img.offsetHeight&&(e=h.img.offsetWidth/h.img.offsetHeight),Math.floor(boxWidth/e)>boxHeight?(r=.8*boxHeight*e,s=.8*boxHeight):(r=.8*boxWidth,s=.8*(boxWidth/e)),r=Math.floor(r),s=Math.floor(s),(this.opt.dimensions&&s>h.originalHeight||this.opt.dimensions&&r>h.originalWidth)&&(s=h.originalHeight,r=h.originalWidth),h.img.setAttribute("width",r),h.img.setAttribute("height",s),b.box.setAttribute("style","padding-top:"+(t()-s)/2+"px"),this.opt.responsive&&l&&m)){var c=t()/2-l.offsetHeight/2;if(a){var d="top: "+c+"px;";l.cssText=d,m.cssText=d}else l.style.top=c+"px",m.style.top=c+"px"}},this.next=function(){if(f){var a=F(g,f)+1;if(i[a])g=i[a];else{if(!b.opt.carousel)return;g=i[0]}"number"==typeof this.opt.animation?(x(h.img,"jslghtbx-animating-next"),setTimeout(function(){b.open(g),setTimeout(function(){y(h.img,"jslghtbx-animating-next")},b.opt.animation/2)},this.opt.animation/2)):b.open(g)}},this.prev=function(){if(f){var a=F(g,f)-1;if(i[a])g=i[a];else{if(!b.opt.carousel)return;g=i[i.length-1]}"number"==typeof this.opt.animation?(x(h.img,"jslghtbx-animating-prev"),setTimeout(function(){b.open(g),setTimeout(function(){y(h.img,"jslghtbx-animating-prev")},b.opt.animation/2)},this.opt.animation/2)):b.open(g)}},this.open=function(d,g){if(!d)return!1;h.img=new Image;var j;j="string"==typeof d?d:A(d,"data-jslghtbx")?A(d,"data-jslghtbx"):A(d,"src"),e=!1,k||(y(h.img,"jslghtbx-animate-transition jslghtbx-animate-init"),k=!0),this.opt&&z(this.opt.hideOverflow)&&!this.opt.hideOverflow||c.setAttribute("style","overflow: hidden"),this.box.setAttribute("style","padding-top: 0"),this.wrapper.innerHTML="",this.wrapper.appendChild(h.img),y(this.box,"jslghtbx-active"),a&&y(b.wrapper,"jslghtbx-active"),g=g||f,g&&(i=E(g),b.opt.controls&&G()),h.img.onload=function(){var a=new Image;a.setAttribute("src",j),h.originalWidth=a.width,h.originalHeight=a.height,y(b.wrapper,"jslghtbx-wrapper-active");var c=setInterval(function(){w(b.box,"jslghtbx-active")&&w(b.wrapper,"jslghtbx-wrapper-active")&&(b.resize(),y(h.img,"jslghtbx-animate-transition"),x(b.box,"jslghtbx-loading"),clearInterval(c))},10)},h.img.setAttribute("src",j),this.opt.loadingGif&&!a&&y(this.box,"jslghtbx-loading")},this.close=function(){f=!1,g=!1,h={},i=[],k=!1,x(b.box,"jslghtbx-active"),x(b.wrapper,"jslghtbx-wrapper-active"),x(l,"jslghtbx-active"),x(m,"jslghtbx-active"),b.box.setAttribute("style","padding-top: 0px;"),a&&b.box.setAttribute("style","display: none;"),this.opt&&z(this.opt.hideOverflow)&&!this.opt.hideOverflow||c.setAttribute("style","overflow: auto")}}